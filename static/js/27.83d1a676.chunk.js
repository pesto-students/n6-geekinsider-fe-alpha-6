(this["webpackJsonpgeekinsider-ui"]=this["webpackJsonpgeekinsider-ui"]||[]).push([[27],{268:function(e,t,r){},307:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var s=r(127),n=r(131),a=r(6),i=r(0),c=r(292),u=r(290),o=r(288),l=r(298),d=r(101),p=r(40),b=r(48),j=r(5),m=r(196),h=r(293),f=r(106),x=(r(268),r(152)),O=r(7),g=Object(b.b)((function(e){return{userType:e.userType}}),(function(e){return Object(p.b)({setUserType:f.A,setIsAuth:f.w,setLoading:f.x},e)}))((function(e){var t=e.setUserType,r=e.setIsAuth,p=Object(i.useState)(!1),b=Object(a.a)(p,2),f=b[0],g=b[1],v=Object(j.g)(),y=function(){var e=Object(n.a)(Object(s.a)().mark((function e(t,r){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.auth("signin",{email:t,password:r});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(n.a)(Object(s.a)().mark((function e(n){var a,i,u,o,l;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.username,i=n.password,e.prev=1,g(!0),e.next=5,y(a,i);case 5:if(null===(u=e.sent)||void 0===u||!u.errors){e.next=10;break}return g(!1),c.a.error({message:null===(o=u.errors)||void 0===o?void 0:o.message}),e.abrupt("return");case 10:l="userCandidate"===u.user.role?"candidate":"recruiter",t(l),r(!0),localStorage.setItem("access_token",u.token),localStorage.setItem("user",JSON.stringify(u.user)),g(!1),v.push("/home"),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),g(!1),"UserNotFoundException"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&c.a.error({message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(u.a,{visible:!0,maskClosable:!1,closable:!1,bodyStyle:{padding:"40px"},width:"420px",footer:null,centered:!0,children:Object(O.jsxs)(o.a,{onFinish:function(e){k(e),t("candidate")},initialValues:{username:"recruiter1@gmail.com",password:"recruiter"},children:[Object(O.jsx)(o.a.Item,{name:"username",rules:[{required:!0,message:"Please input your username!",type:"email"}],children:Object(O.jsx)(l.a,{prefix:Object(O.jsx)(m.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(O.jsx)(o.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(O.jsx)(l.a.Password,{prefix:Object(O.jsx)(h.a,{className:"site-form-item-icon"}),placeholder:"Password"})}),Object(O.jsx)(o.a.Item,{children:Object(O.jsx)(d.a,{type:"primary",htmlType:"submit",block:!0,loading:f,children:"Login"})}),Object(O.jsx)(o.a.Item,{children:Object(O.jsx)("div",{className:"login__otherlinks",children:Object(O.jsx)(d.a,{type:"link",onClick:function(){return v.push("/signup")},children:"Register"})})})]})})}))}}]);
//# sourceMappingURL=27.83d1a676.chunk.js.map